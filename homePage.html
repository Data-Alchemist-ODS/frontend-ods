<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ODS</title>
    <link rel="shortcut icon" href="img/logo_header.png" type="img/png" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="css/myCSS.css" />
</head>


<body class="overflow-y-auto overflow-x-hidden">
    <!-- NAVBAR  -->
    <div class="container-fluid mb-5 px-5 sticky-top my-nav-bar">
        <div class="container d-flex align-items-center justify-content-between position-relative"
            style="height: 100%;">

            <div class="d-flex align-items-center w-100">
                <!-- <ul class="nav d-block d-xl-none" >
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle my-nav-link toggle" href="#" id="navbarDropdown" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            Menu
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a id="upload" class="dropdown-item my-nav-link toggle upload">Upload Data</a></li>
                            <li><a id="get" class="dropdown-item my-nav-link toggle get">Collect Data</a></li>
                            <li><a id="transaction" class=" dropdown-item my-nav-link toggle transaction">Transaction Log</a></li>
                            <li><a id="query" class="dropdown-item my-nav-link toggle query">Query</a></li>
                        </ul>
                    </li>
                </ul> -->
                <ul class="nav d-none d-xl-block d-xl-flex" >
                    <li class="nav-item">
                        <a id="upload" class="nav-link my-nav-link toggle upload">Upload Data</a>
                    </li>
                    <li class="nav-item">
                        <a id="get" class="nav-link my-nav-link toggle get">Collect Data</a>
                    </li>
                    <li class="nav-item">
                        <a id="transaction" class="nav-link my-nav-link toggle transaction">Transaction Log</a>
                    </li>
                    <li class="nav-item">
                        <a id="query" class="nav-link my-nav-link toggle query">Query</a>
                    </li>
                </ul>
            </div>

            <h3 id = "ods" class="my-0 font-weight-bold my-nav-link toogle ods-nav-link ods">ODS</h3>

            <!-- PROFILE -->
            <div id="profile" class="w-100">
                <div id = "dropdownProfile" class="dropdown">
                    <button type="button" class="btn dropdown-toggle float-end button-profile" data-bs-toggle="dropdown"
                        aria-expanded="false" data-bs-auto-close="outside" style="color : #F9F9FA;">
                        <span id = "thumbnail-name"></span>
                        <span id = "thumbnail-name-clicked" class="hidden">Your Profile</span>
                    </button>
                    <form class="dropdown-menu p-4 w-75" style="z-index: 9999;">
                        <div class="mb-3">
                            <label class="form-label">Name</label>
                            <input id = "name" type="text" class="form-control form-profile" id="exampleDropdownFormEmail2" 
                                placeholder="Name" value="_Name_" disabled>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email address</label>
                            <input id = "email" type="email" class="form-control form-profile" id="exampleDropdownFormEmail2"
                                placeholder="email@example.com" value="_Email_" disabled>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Password</label>
                            <input id = "password" type="password" class="form-control form-profile" id="exampleDropdownFormPassword2"
                                placeholder="Password" value="_password_" disabled>
                        </div>
                        <div>
                            <button id = "edit-profile" type ="button" class="btn btn-outline-primary">Edit Profile</button>
                            <a id = "logout" class="btn btn-outline-danger ms-3" href="landingPage.html">Log Out</a>
                            <button id = "edit" type ="button" class="btn btn-outline-primary hidden">Edit</button>
                            <button id = "cancel" type ="button" class="btn btn-outline-primary ms-3 hidden">Cancel</button>
                            <img id="delete-account" src="img/trash.png" class="my-1 float-end trash-logo"> 
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- UPLOAD -->
    <div id="upload-view" class="hidden">
        <div id="main-container" class="container mt-5">
            <div class="container my-5 d-flex justify-content-center align-items-center" style="height: 300px; border-radius: 18px;
            background: #A6D1E6; box-shadow: 2px 2px 4px 0px rgba(32, 34, 43, 0.15);">
                <div class="container-fluid d-flex justify-content-center align-items-center mx-0 flex-column drop-area"
                    style="border-radius: 8px;
                border: 2px dashed rgba(32, 34, 43, 0.15); height : 270px;">
                    <!-- DEFAULT -->
                    <div id="default" style="pointer-events: none; display: block;">
                        <div class="d-flex align-items-center flex-column">
                            <img src="img/file.png" alt="img/png" style="width: 100px; opacity: .5;">
                            <div class="drop-area d-flex align-items-center flex-column"
                                style="font-weight: normal;">
                                <div><span class=" button font-weight-bold my-link" style="pointer-events: auto;">
                                        Browse </span> your file</div>
                                <input id="browse-input" type="file" name="file" hidden>
                                <div>or drag & drop your file here</div>
                            </div>
                        </div>
                    </div>

                    <!-- FILE HOVERING -->
                    <div id="hover" style="display: none; pointer-events: none">
                        <h1 style="opacity : 0.3;">Drop top upload</h1>
                    </div>
                    <!-- FILE HOVERING -->
                    <div id="partition" class="container" style="display: none;">
                        <h1 class="font-weight-bolder">Select Partition:</h1>
                        <div class="row mt-4">
                            <div class="col-6 d-flex justify-content-center">
                                <h3 class="partition-option" id="horizontal">Horizontal</h3>
                            </div>
                            <div class="col-6 d-flex justify-content-center">
                                <h3 class="partition-option disable" id="vertical" style="pointer-events: none;">Vertical</h3>
                            </div>
                        </div>
                    </div>

                    <!-- DATABASE -->
                    <div id="database" class="container" style="display: none">
                        <h1>Select Database:</h1>
                        <div class="row mt-4" style="pointer-events: all;">
                            <div class="col-4 d-flex justify-content-center">
                                <h3 class="database-option" id="tidb">TiDB</h3>
                            </div>
                            <div class="col-4 d-flex justify-content-center">
                                <h3 class="database-option" id="redis">Redis</h3>
                            </div>
                            <div class="col-4 d-flex justify-content-center">
                                <h3 class="database-option" id="mongodb">MongoDB</h3>
                            </div>
                        </div>
                        <div class="position-absolute w-100 top-50 start-0 translate-middle-y" style="width: auto;">
                            <div id="database-button">
                                <h5>Select 2 Or More:</h5>
                            </div>
                        </div>
                    </div>

                    <!-- UPLOADING -->
                    <div id="uploading" style="display: none;">
                        <div class="d-flex align-items-center flex-column">
                            <h1 id="file-name">Name Of File</h1>
                            <h6 style="opacity: 0.2;">size : <span id="file-size">70mb</span> </h6>
                            <div class="progress" role="progressbar" aria-label="Basic example" aria-valuenow="0"
                                aria-valuemin="0" aria-valuemax="100">
                                <div class="progress-bar" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>

                    <!-- UPLOADED -->
                    <div id="uploaded" style="display: none;">
                        <h1>File Uploaded</h1>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row row-cols-sm-1 row-cols-lg-3" style="height: 30vh; color: #323A3D" >
                    <div class="d-flex align-items-center flex-column pt-1 px-5">
                        <h2>TiDB</h2>
                        <h6>A distributed and horizontally scalable relational database. Combines the advantages of
                            relational databases and horizontal scaling. Supports ACID consistency and transactional
                            operations at a large scale.</h6>
                    </div>
                    <div class="d-flex align-items-center flex-column pt-1 px-5">
                        <h2>Redis</h2>
                        <h6>An open-source database focused on high performance. Uses in-memory data structures and
                            suitable for caching and message management. Supports various data models and features
                            replication and scalability.</h6>
                    </div>
                    <div class="d-flex align-items-center flex-column pt-1 px-5">
                        <h2>MongoDB</h2>
                        <h6>A NoSQL document database that stores data in JSON-like format. Flexible and suitable for
                            complex data. Supports replication and automated sharding for high availability and
                            scalability.</h6>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- GET -->
    <div id="get-view" class="hidden">
        <div class="container d-flex flex-column" style="height: 80vh;">
            <input  type="text" class="form-control mb-4 grip search-data-get"
                placeholder="Search" oninput="handleSearch()">
            <div id="data-container" class="container-fluid position-relative overflow-auto"
                style="height: 100%; border-top: 1.5px solid rgba(62, 61, 67, 1)">
            </div>
        </div>
    </div>

    <!-- TRANSACTION -->
    <div id="transaction-view" class="hidden">
        <div class="container mt-5 d-flex flex-column overflow-y-scroll" style="height: 80vh;">
                <table style="text-align: left;" >
                    <thead class="sticky-top" style="z-index: 0;">
                        <tr>
                            <th style="width: 5%;">No</th>
                            <th style="width: 20%;">Transaction id</th>
                            <th style="width: 10%;">Partition</th>
                            <th style="width: 10%;">Sharding Key</th>
                            <th style="width: 20%;">Database</th>
                            <th style="width: 27%;">File</th>
                            <th style="width: 3%;"></th>
                        </tr>
                    </thead>
                    <tbody id="transaction-data">
                    </tbody>
                </table>
            </table>
        </div>
    </div>

    <!-- QUERY -->
    <div id="query-view" class="hidden">
        <div class="container mt-5 overflow-hidden  d-flex flex-column" style="height: 80vh;">
            <input id = "search-data-query" type="text" class="form-control mb-4 grip search-data-query w-100"
                placeholder="Put your text in here">
            <div id= "query-result" class="container-fluid border border-1 p-3 overflow-y-scroll" style="height: 100%; text-align: left; user-select: text;">
            </div>
            </div>
        </div>
    </div>

    <!-- ODS -->
    <div id = "ods-view" class = "hidden">
        <div class="container d-flex justify-content-center flex-column" style="height: 70vh;  text-align: left;">
            <h1 class="mb-3"> On-Demand Data Sharding</h1>
            <div class="float-start" style="width: 50%;">
                <h6 style="font-weight: lighter;">This project serves as the backend component of our software, specifically focused on implementing sharding techniques. By utilizing sharding, we aim to partition and distribute data across multiple databases, ensuring efficient storage, retrieval, and management of data while maintaining a predefined schema for seamless integration with the overall software architecture.</h6>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

    <script src="js/uploadFunction.js"></script>
    <script src="js/getFunction.js"></script>
    <script src="js/transactionFunction.js"></script>
    <script src="js/profileFunction.js"> </script>
    <script src="js/QueryFunction.js"> </script>
    <script src="js/navigator.js"></script>
    <!-- <script src="js/userSession.js"></script> -->
</body>

</html>